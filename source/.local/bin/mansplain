#!/usr/bin/env zsh
# ---------------------------------------------------------------------------------------------------------------------
# MANSPLAIN
#
# Shows a wofi prompt for the manual entries of user commands and configuration files.
# ---------------------------------------------------------------------------------------------------------------------

# Get the manual entry.
CHOICE=$(man -s 1,5,7 -k . | wofi --dmenu -i -M multi-contains -p "Search manpagesâ€¦")
[ -n "$CHOICE" ] || exit

# Parse selection, update counter and display output.
SECTION=$(echo "$CHOICE" | awk -F'[)(]' '{print $2}')
ENTRY=$(echo "$CHOICE" | awk '{print $1}')

"$TERMINAL" -e man "$SECTION" "$ENTRY"
